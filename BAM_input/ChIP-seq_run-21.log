/data/manke/sikora/miniconda3/envs/snakemake/bin/ChIP-seq -d BAM_input --sampleSheet .ci_stuff/test_sampleSheet.tsv --snakemakeOptions  --dryrun --conda-prefix /tmp .ci_stuff/organism.yaml .ci_stuff/ChIP.sample_config.yaml

TMPDIR=/data/extended/ PYTHONNOUSERSITE=True /data/manke/sikora/miniconda3/envs/snakemake/bin/snakemake --use-conda --conda-prefix /package/anaconda3/envs/ --dryrun --conda-prefix /tmp --latency-wait 300 --snakefile /data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/snakePipes/workflows/ChIP-seq/Snakefile --jobs 5 --directory /data/manke/sikora/snakepipes/BAM_input --configfile /data/manke/sikora/snakepipes/BAM_input/ChIP-seq.config.yaml --keep-going --cluster-config /data/manke/sikora/snakepipes/BAM_input/ChIP-seq.cluster_config.yaml --cluster 'module load slurm; SlurmEasy --mem-per-cpu {cluster.memory} --threads {threads} --log cluster_logs --name {rule}.snakemake '

Building DAG of jobs...
Conda environment /data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/snakePipes/shared/rules/envs/atac_seq.yaml will be created.
Conda environment /data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/snakePipes/shared/rules/envs/chip_seq.yaml will be created.
Conda environment /data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/snakePipes/shared/rules/envs/rna_seq.yaml will be created.
Conda environment /data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/snakePipes/shared/rules/envs/shared.yaml will be created.
Job counts:
	count	jobs
	1	CSAW
	1	CSAW_report
	4	MACS2
	4	MACS2_peak_qc
	1	all
	4	bamCompare_log2
	4	bamCompare_subtract
	4	bamCoverage_filtered
	3	calc_matrix_cov_CSAW
	3	calc_matrix_log2r_CSAW
	6	convert_flagstat_output
	1	filter_gtf
	3	get_nearest_gene
	3	get_nearest_transcript
	1	gtf_to_files
	1	plotFingerprint
	3	plot_heatmap_cov_CSAW
	3	plot_heatmap_log2r_CSAW
	1	qc_report_all
	1	report_flagstat_all_data
	52

[Tue Apr  7 16:50:16 2020]
rule bamCoverage_filtered:
    input: filtered_bam/sample1.filtered.bam, filtered_bam/sample1.filtered.bam.bai
    output: bamCoverage/sample1.filtered.seq_depth_norm.bw
    log: bamCoverage/logs/bamCoverage.sample1.filtered.out, bamCoverage/logs/bamCoverage.sample1.filtered.err
    jobid: 39
    benchmark: bamCoverage/.benchmark/bamCoverage.sample1.filtered.benchmark
    wildcards: sample=sample1
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample1.markdup.txt
    output: Sambamba/sample1.dup.converted.tsv
    log: Sambamba/logs/sample1.convert_flagstat_output.log
    jobid: 47
    wildcards: sample=sample1


[Tue Apr  7 16:50:16 2020]
rule plotFingerprint:
    input: filtered_bam/sample1.filtered.bam, filtered_bam/sample2.filtered.bam, filtered_bam/sample3.filtered.bam, filtered_bam/sample4.filtered.bam, filtered_bam/sample5.filtered.bam, filtered_bam/sample6.filtered.bam, filtered_bam/sample1.filtered.bam.bai, filtered_bam/sample2.filtered.bam.bai, filtered_bam/sample3.filtered.bam.bai, filtered_bam/sample4.filtered.bam.bai, filtered_bam/sample5.filtered.bam.bai, filtered_bam/sample6.filtered.bam.bai
    output: deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt
    log: deepTools_ChIP/logs/plotFingerprint.out, deepTools_ChIP/logs/plotFingerprint.err
    jobid: 1
    benchmark: deepTools_ChIP/.benchmark/plotFingerprint.benchmark
    threads: 24


[Tue Apr  7 16:50:16 2020]
rule MACS2:
    input: filtered_bam/sample1.filtered.bam, filtered_bam/sample3.filtered.bam, deepTools_qc/bamPEFragmentSize/fragmentSize.metric.tsv
    output: MACS2/sample1.filtered.BAM_peaks.xls, MACS2/sample1.filtered.BAMPE_peaks.xls
    log: MACS2/logs/MACS2.sample1.filtered.out, MACS2/logs/MACS2.sample1.filtered.err
    jobid: 10
    benchmark: MACS2/.benchmark/MACS2.sample1.filtered.benchmark
    wildcards: chip_sample=sample1


[Tue Apr  7 16:50:16 2020]
rule bamCompare_log2:
    input: filtered_bam/sample1.filtered.bam, filtered_bam/sample1.filtered.bam.bai, filtered_bam/sample3.filtered.bam, filtered_bam/sample3.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample1.filtered.log2ratio.over_sample3.bw
    log: deepTools_ChIP/logs/bamCompare.log2ratio.sample1.sample3.filtered.out, deepTools_ChIP/logs/bamCompare.log2ratio.sample1.sample3.filtered.err
    jobid: 3
    benchmark: deepTools_ChIP/.benchmark/bamCompare.log2ratio.sample1.sample3.filtered.benchmark
    wildcards: chip_sample=sample1, control_name=sample3
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCompare_subtract:
    input: filtered_bam/sample1.filtered.bam, filtered_bam/sample1.filtered.bam.bai, filtered_bam/sample3.filtered.bam, filtered_bam/sample3.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample1.filtered.subtract.sample3.bw
    log: deepTools_ChIP/logs/bamCompare.subtract.sample1.filtered.subtract.sample3.out, deepTools_ChIP/logs/bamCompare.subtract.sample1.filtered.subtract.sample3.err
    jobid: 2
    benchmark: deepTools_ChIP/.benchmark/bamCompare.subtract.sample1.filtered.subtract.sample3.benchmark
    wildcards: chip_sample=sample1, control_name=sample3
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCompare_log2:
    input: filtered_bam/sample5.filtered.bam, filtered_bam/sample5.filtered.bam.bai, filtered_bam/sample6.filtered.bam, filtered_bam/sample6.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample5.filtered.log2ratio.over_sample6.bw
    log: deepTools_ChIP/logs/bamCompare.log2ratio.sample5.sample6.filtered.out, deepTools_ChIP/logs/bamCompare.log2ratio.sample5.sample6.filtered.err
    jobid: 9
    benchmark: deepTools_ChIP/.benchmark/bamCompare.log2ratio.sample5.sample6.filtered.benchmark
    wildcards: chip_sample=sample5, control_name=sample6
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample2.markdup.txt
    output: Sambamba/sample2.dup.converted.tsv
    log: Sambamba/logs/sample2.convert_flagstat_output.log
    jobid: 48
    wildcards: sample=sample2


[Tue Apr  7 16:50:16 2020]
rule bamCompare_subtract:
    input: filtered_bam/sample4.filtered.bam, filtered_bam/sample4.filtered.bam.bai, filtered_bam/sample6.filtered.bam, filtered_bam/sample6.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample4.filtered.subtract.sample6.bw
    log: deepTools_ChIP/logs/bamCompare.subtract.sample4.filtered.subtract.sample6.out, deepTools_ChIP/logs/bamCompare.subtract.sample4.filtered.subtract.sample6.err
    jobid: 6
    benchmark: deepTools_ChIP/.benchmark/bamCompare.subtract.sample4.filtered.subtract.sample6.benchmark
    wildcards: chip_sample=sample4, control_name=sample6
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCoverage_filtered:
    input: filtered_bam/sample2.filtered.bam, filtered_bam/sample2.filtered.bam.bai
    output: bamCoverage/sample2.filtered.seq_depth_norm.bw
    log: bamCoverage/logs/bamCoverage.sample2.filtered.out, bamCoverage/logs/bamCoverage.sample2.filtered.err
    jobid: 40
    benchmark: bamCoverage/.benchmark/bamCoverage.sample2.filtered.benchmark
    wildcards: sample=sample2
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCompare_subtract:
    input: filtered_bam/sample5.filtered.bam, filtered_bam/sample5.filtered.bam.bai, filtered_bam/sample6.filtered.bam, filtered_bam/sample6.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample5.filtered.subtract.sample6.bw
    log: deepTools_ChIP/logs/bamCompare.subtract.sample5.filtered.subtract.sample6.out, deepTools_ChIP/logs/bamCompare.subtract.sample5.filtered.subtract.sample6.err
    jobid: 8
    benchmark: deepTools_ChIP/.benchmark/bamCompare.subtract.sample5.filtered.subtract.sample6.benchmark
    wildcards: chip_sample=sample5, control_name=sample6
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule MACS2:
    input: filtered_bam/sample2.filtered.bam, filtered_bam/sample3.filtered.bam, deepTools_qc/bamPEFragmentSize/fragmentSize.metric.tsv
    output: MACS2/sample2.filtered.BAM_peaks.xls, MACS2/sample2.filtered.BAMPE_peaks.xls
    log: MACS2/logs/MACS2.sample2.filtered.out, MACS2/logs/MACS2.sample2.filtered.err
    jobid: 11
    benchmark: MACS2/.benchmark/MACS2.sample2.filtered.benchmark
    wildcards: chip_sample=sample2


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample3.markdup.txt
    output: Sambamba/sample3.dup.converted.tsv
    log: Sambamba/logs/sample3.convert_flagstat_output.log
    jobid: 49
    wildcards: sample=sample3


[Tue Apr  7 16:50:16 2020]
rule bamCompare_log2:
    input: filtered_bam/sample4.filtered.bam, filtered_bam/sample4.filtered.bam.bai, filtered_bam/sample6.filtered.bam, filtered_bam/sample6.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample4.filtered.log2ratio.over_sample6.bw
    log: deepTools_ChIP/logs/bamCompare.log2ratio.sample4.sample6.filtered.out, deepTools_ChIP/logs/bamCompare.log2ratio.sample4.sample6.filtered.err
    jobid: 7
    benchmark: deepTools_ChIP/.benchmark/bamCompare.log2ratio.sample4.sample6.filtered.benchmark
    wildcards: chip_sample=sample4, control_name=sample6
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample6.markdup.txt
    output: Sambamba/sample6.dup.converted.tsv
    log: Sambamba/logs/sample6.convert_flagstat_output.log
    jobid: 52
    wildcards: sample=sample6


[Tue Apr  7 16:50:16 2020]
rule filter_gtf:
    input: /tmp/genes.gtf
    output: Annotation/genes.filtered.gtf
    jobid: 38


[Tue Apr  7 16:50:16 2020]
rule bamCompare_log2:
    input: filtered_bam/sample2.filtered.bam, filtered_bam/sample2.filtered.bam.bai, filtered_bam/sample3.filtered.bam, filtered_bam/sample3.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample2.filtered.log2ratio.over_sample3.bw
    log: deepTools_ChIP/logs/bamCompare.log2ratio.sample2.sample3.filtered.out, deepTools_ChIP/logs/bamCompare.log2ratio.sample2.sample3.filtered.err
    jobid: 5
    benchmark: deepTools_ChIP/.benchmark/bamCompare.log2ratio.sample2.sample3.filtered.benchmark
    wildcards: chip_sample=sample2, control_name=sample3
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCoverage_filtered:
    input: filtered_bam/sample5.filtered.bam, filtered_bam/sample5.filtered.bam.bai
    output: bamCoverage/sample5.filtered.seq_depth_norm.bw
    log: bamCoverage/logs/bamCoverage.sample5.filtered.out, bamCoverage/logs/bamCoverage.sample5.filtered.err
    jobid: 42
    benchmark: bamCoverage/.benchmark/bamCoverage.sample5.filtered.benchmark
    wildcards: sample=sample5
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule MACS2:
    input: filtered_bam/sample4.filtered.bam, filtered_bam/sample6.filtered.bam, deepTools_qc/bamPEFragmentSize/fragmentSize.metric.tsv
    output: MACS2/sample4.filtered.BAM_peaks.xls, MACS2/sample4.filtered.BAMPE_peaks.xls
    log: MACS2/logs/MACS2.sample4.filtered.out, MACS2/logs/MACS2.sample4.filtered.err
    jobid: 12
    benchmark: MACS2/.benchmark/MACS2.sample4.filtered.benchmark
    wildcards: chip_sample=sample4


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample5.markdup.txt
    output: Sambamba/sample5.dup.converted.tsv
    log: Sambamba/logs/sample5.convert_flagstat_output.log
    jobid: 51
    wildcards: sample=sample5


[Tue Apr  7 16:50:16 2020]
rule bamCoverage_filtered:
    input: filtered_bam/sample4.filtered.bam, filtered_bam/sample4.filtered.bam.bai
    output: bamCoverage/sample4.filtered.seq_depth_norm.bw
    log: bamCoverage/logs/bamCoverage.sample4.filtered.out, bamCoverage/logs/bamCoverage.sample4.filtered.err
    jobid: 41
    benchmark: bamCoverage/.benchmark/bamCoverage.sample4.filtered.benchmark
    wildcards: sample=sample4
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule bamCompare_subtract:
    input: filtered_bam/sample2.filtered.bam, filtered_bam/sample2.filtered.bam.bai, filtered_bam/sample3.filtered.bam, filtered_bam/sample3.filtered.bam.bai
    output: deepTools_ChIP/bamCompare/sample2.filtered.subtract.sample3.bw
    log: deepTools_ChIP/logs/bamCompare.subtract.sample2.filtered.subtract.sample3.out, deepTools_ChIP/logs/bamCompare.subtract.sample2.filtered.subtract.sample3.err
    jobid: 4
    benchmark: deepTools_ChIP/.benchmark/bamCompare.subtract.sample2.filtered.subtract.sample3.benchmark
    wildcards: chip_sample=sample2, control_name=sample3
    threads: 16


[Tue Apr  7 16:50:16 2020]
rule convert_flagstat_output:
    input: Sambamba/sample4.markdup.txt
    output: Sambamba/sample4.dup.converted.tsv
    log: Sambamba/logs/sample4.convert_flagstat_output.log
    jobid: 50
    wildcards: sample=sample4


[Tue Apr  7 16:50:16 2020]
rule MACS2:
    input: filtered_bam/sample5.filtered.bam, filtered_bam/sample6.filtered.bam, deepTools_qc/bamPEFragmentSize/fragmentSize.metric.tsv
    output: MACS2/sample5.filtered.BAM_peaks.xls, MACS2/sample5.filtered.BAMPE_peaks.xls
    log: MACS2/logs/MACS2.sample5.filtered.out, MACS2/logs/MACS2.sample5.filtered.err
    jobid: 13
    benchmark: MACS2/.benchmark/MACS2.sample5.filtered.benchmark
    wildcards: chip_sample=sample5


[Tue Apr  7 16:50:16 2020]
rule MACS2_peak_qc:
    input: filtered_bam/sample1.filtered.bam, MACS2/sample1.filtered.BAM_peaks.xls
    output: MACS2/sample1.filtered.BAM_peaks.qc.txt
    jobid: 14
    benchmark: MACS2/.benchmark/MACS2_peak_qc.sample1.filtered.benchmark
    wildcards: sample=sample1


[Tue Apr  7 16:50:16 2020]
rule report_flagstat_all_data:
    input: Sambamba/sample1.dup.converted.tsv, Sambamba/sample2.dup.converted.tsv, Sambamba/sample3.dup.converted.tsv, Sambamba/sample4.dup.converted.tsv, Sambamba/sample5.dup.converted.tsv, Sambamba/sample6.dup.converted.tsv
    output: Sambamba/flagstat_report_all.tsv
    log: Sambamba/logs/report_flagstat_all_data.log
    jobid: 46


[Tue Apr  7 16:50:16 2020]
rule gtf_to_files:
    input: Annotation/genes.filtered.gtf
    output: Annotation/genes.filtered.t2g, Annotation/genes.filtered.symbol, Annotation/genes.filtered.bed
    jobid: 19

[Tue Apr  7 16:50:16 2020]
rule CSAW:
    input: MACS2/sample1.filtered.BAM_peaks.xls, MACS2/sample2.filtered.BAM_peaks.xls, MACS2/sample4.filtered.BAM_peaks.xls, MACS2/sample5.filtered.BAM_peaks.xls, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv, deepTools_qc/bamPEFragmentSize/fragmentSize.metric.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, CSAW_MACS2_test_sampleSheet/DiffBinding_analysis.Rdata, CSAW_MACS2_test_sampleSheet/Filtered.results.UP.bed, CSAW_MACS2_test_sampleSheet/Filtered.results.DOWN.bed, CSAW_MACS2_test_sampleSheet/Filtered.results.MIXED.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/CSAW.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/CSAW.err
    jobid: 18
    benchmark: CSAW_MACS2_test_sampleSheet/.benchmark/CSAW.benchmark

[Tue Apr  7 16:50:16 2020]
rule MACS2_peak_qc:
    input: filtered_bam/sample2.filtered.bam, MACS2/sample2.filtered.BAM_peaks.xls
    output: MACS2/sample2.filtered.BAM_peaks.qc.txt
    jobid: 15
    benchmark: MACS2/.benchmark/MACS2_peak_qc.sample2.filtered.benchmark
    wildcards: sample=sample2


[Tue Apr  7 16:50:16 2020]
rule MACS2_peak_qc:
    input: filtered_bam/sample5.filtered.bam, MACS2/sample5.filtered.BAM_peaks.xls
    output: MACS2/sample5.filtered.BAM_peaks.qc.txt
    jobid: 17
    benchmark: MACS2/.benchmark/MACS2_peak_qc.sample5.filtered.benchmark
    wildcards: sample=sample5


[Tue Apr  7 16:50:16 2020]
rule MACS2_peak_qc:
    input: filtered_bam/sample4.filtered.bam, MACS2/sample4.filtered.BAM_peaks.xls
    output: MACS2/sample4.filtered.BAM_peaks.qc.txt
    jobid: 16
    benchmark: MACS2/.benchmark/MACS2_peak_qc.sample4.filtered.benchmark
    wildcards: sample=sample4


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, deepTools_ChIP/bamCompare/sample1.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample2.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample4.filtered.log2ratio.over_sample6.bw, deepTools_ChIP/bamCompare/sample5.filtered.log2ratio.over_sample6.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.UP.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.UP.err
    jobid: 21
    wildcards: change_dir=UP
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule qc_report_all:
    input: Sambamba/flagstat_report_all.tsv, deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt
    output: QC_report/QC_report_all.tsv
    log: QC_report/logs/qc_report_all.log
    jobid: 36


[Tue Apr  7 16:50:16 2020]
rule get_nearest_transcript:
    input: CSAW_MACS2_test_sampleSheet/Filtered.results.MIXED.bed
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.MIXED_withNearestTranscript.bed
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/bedtools_closest.MIXED.err
    jobid: 45
    wildcards: change_dir=MIXED


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, deepTools_ChIP/bamCompare/sample1.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample2.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample4.filtered.log2ratio.over_sample6.bw, deepTools_ChIP/bamCompare/sample5.filtered.log2ratio.over_sample6.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.MIXED.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.MIXED.err
    jobid: 23
    wildcards: change_dir=MIXED
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, bamCoverage/sample1.filtered.seq_depth_norm.bw, bamCoverage/sample2.filtered.seq_depth_norm.bw, bamCoverage/sample4.filtered.seq_depth_norm.bw, bamCoverage/sample5.filtered.seq_depth_norm.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.DOWN.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.DOWN.err
    jobid: 28
    wildcards: change_dir=DOWN
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule get_nearest_transcript:
    input: CSAW_MACS2_test_sampleSheet/Filtered.results.UP.bed
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.UP_withNearestTranscript.bed
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/bedtools_closest.UP.err
    jobid: 43
    wildcards: change_dir=UP


[Tue Apr  7 16:50:16 2020]
rule get_nearest_transcript:
    input: CSAW_MACS2_test_sampleSheet/Filtered.results.DOWN.bed
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.DOWN_withNearestTranscript.bed
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/bedtools_closest.DOWN.err
    jobid: 44
    wildcards: change_dir=DOWN


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, bamCoverage/sample1.filtered.seq_depth_norm.bw, bamCoverage/sample2.filtered.seq_depth_norm.bw, bamCoverage/sample4.filtered.seq_depth_norm.bw, bamCoverage/sample5.filtered.seq_depth_norm.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.UP.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.UP.err
    jobid: 27
    wildcards: change_dir=UP
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, deepTools_ChIP/bamCompare/sample1.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample2.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/bamCompare/sample4.filtered.log2ratio.over_sample6.bw, deepTools_ChIP/bamCompare/sample5.filtered.log2ratio.over_sample6.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.DOWN.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.log2r.DOWN.err
    jobid: 22
    wildcards: change_dir=DOWN
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule calc_matrix_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, bamCoverage/sample1.filtered.seq_depth_norm.bw, bamCoverage/sample2.filtered.seq_depth_norm.bw, bamCoverage/sample4.filtered.seq_depth_norm.bw, bamCoverage/sample5.filtered.seq_depth_norm.bw, /data/manke/sikora/snakepipes/.ci_stuff/test_sampleSheet.tsv
    output: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.matrix
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.MIXED.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_matrix.cov.MIXED.err
    jobid: 29
    wildcards: change_dir=MIXED
    threads: 8


[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.DOWN.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.DOWN.err
    jobid: 31
    wildcards: change_dir=DOWN


[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.DOWN.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.DOWN.err
    jobid: 25
    wildcards: change_dir=DOWN


[Tue Apr  7 16:50:16 2020]
rule get_nearest_gene:
    input: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.DOWN_withNearestTranscript.bed, Annotation/genes.filtered.t2g, Annotation/genes.filtered.symbol
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.DOWN_withNearestGene.txt
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.DOWN.err, AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.DOWN.out
    jobid: 34
    wildcards: change_dir=DOWN

[Tue Apr  7 16:50:16 2020]
rule get_nearest_gene:
    input: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.UP_withNearestTranscript.bed, Annotation/genes.filtered.t2g, Annotation/genes.filtered.symbol
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.UP_withNearestGene.txt
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.UP.err, AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.UP.out
    jobid: 33
    wildcards: change_dir=UP

[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.MIXED.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.MIXED.err
    jobid: 32
    wildcards: change_dir=MIXED


[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.UP.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.UP.err
    jobid: 24
    wildcards: change_dir=UP


[Tue Apr  7 16:50:16 2020]
rule get_nearest_gene:
    input: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.MIXED_withNearestTranscript.bed, Annotation/genes.filtered.t2g, Annotation/genes.filtered.symbol
    output: AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.MIXED_withNearestGene.txt
    log: AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.MIXED.err, AnnotatedResults_MACS2_test_sampleSheet/logs/nearestGene.MIXED.out
    jobid: 35
    wildcards: change_dir=MIXED

[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_cov_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.UP.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.cov.UP.err
    jobid: 30
    wildcards: change_dir=UP


[Tue Apr  7 16:50:16 2020]
rule plot_heatmap_log2r_CSAW:
    input: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.matrix
    output: CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.sortedRegions.bed
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.MIXED.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/deeptools_heatmap.log2r.MIXED.err
    jobid: 26
    wildcards: change_dir=MIXED


[Tue Apr  7 16:50:16 2020]
rule CSAW_report:
    input: CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.heatmap.png
    output: CSAW_MACS2_test_sampleSheet/CSAW.Stats_report.html
    log: /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/report.out, /data/manke/sikora/snakepipes/BAM_input/CSAW_MACS2_test_sampleSheet/logs/report.err
    jobid: 20

[Tue Apr  7 16:50:16 2020]
localrule all:
    input: deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt, deepTools_ChIP/bamCompare/sample1.filtered.subtract.sample3.bw, deepTools_ChIP/bamCompare/sample1.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt, deepTools_ChIP/bamCompare/sample2.filtered.subtract.sample3.bw, deepTools_ChIP/bamCompare/sample2.filtered.log2ratio.over_sample3.bw, deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt, deepTools_ChIP/bamCompare/sample4.filtered.subtract.sample6.bw, deepTools_ChIP/bamCompare/sample4.filtered.log2ratio.over_sample6.bw, deepTools_ChIP/plotFingerprint/plotFingerprint.metrics.txt, deepTools_ChIP/bamCompare/sample5.filtered.subtract.sample6.bw, deepTools_ChIP/bamCompare/sample5.filtered.log2ratio.over_sample6.bw, MACS2/sample1.filtered.BAM_peaks.xls, MACS2/sample2.filtered.BAM_peaks.xls, MACS2/sample4.filtered.BAM_peaks.xls, MACS2/sample5.filtered.BAM_peaks.xls, MACS2/sample1.filtered.BAM_peaks.qc.txt, MACS2/sample2.filtered.BAM_peaks.qc.txt, MACS2/sample4.filtered.BAM_peaks.qc.txt, MACS2/sample5.filtered.BAM_peaks.qc.txt, CSAW_MACS2_test_sampleSheet/CSAW.session_info.txt, Annotation/genes.filtered.symbol, Annotation/genes.filtered.t2g, CSAW_MACS2_test_sampleSheet/CSAW.Stats_report.html, CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.matrix, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.matrix, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.matrix, CSAW_MACS2_test_sampleSheet/CSAW.UP.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.log2r.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.matrix, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.matrix, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.matrix, CSAW_MACS2_test_sampleSheet/CSAW.UP.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.DOWN.cov.heatmap.png, CSAW_MACS2_test_sampleSheet/CSAW.MIXED.cov.heatmap.png, AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.UP_withNearestGene.txt, AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.DOWN_withNearestGene.txt, AnnotatedResults_MACS2_test_sampleSheet/Filtered.results.MIXED_withNearestGene.txt, QC_report/QC_report_all.tsv
    jobid: 0

Job counts:
	count	jobs
	1	CSAW
	1	CSAW_report
	4	MACS2
	4	MACS2_peak_qc
	1	all
	4	bamCompare_log2
	4	bamCompare_subtract
	4	bamCoverage_filtered
	3	calc_matrix_cov_CSAW
	3	calc_matrix_log2r_CSAW
	6	convert_flagstat_output
	1	filter_gtf
	3	get_nearest_gene
	3	get_nearest_transcript
	1	gtf_to_files
	1	plotFingerprint
	3	plot_heatmap_cov_CSAW
	3	plot_heatmap_log2r_CSAW
	1	qc_report_all
	1	report_flagstat_all_data
	52
This was a dry-run (flag -n). The order of jobs does not reflect the order of execution.
/data/manke/sikora/miniconda3/envs/snakemake/lib/python3.6/site-packages/fuzzywuzzy/fuzz.py:11: UserWarning: Using slow pure-python SequenceMatcher. Install python-Levenshtein to remove this warning
  warnings.warn('Using slow pure-python SequenceMatcher. Install python-Levenshtein to remove this warning')

---- This analysis has been done using snakePipes version 2.1.0 ----
Sample sheet found and header is ok!
